<html>
<head>
<title>NatTrans.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for NatTrans.v</h1>

<div class="code" title="File: NatTrans.v
Line: 1
Time: 0.05s">
<div class="time" style="width: 89.285714285714%"></div>
<pre>Require Import Basics.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 1
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
Require Import WildCat.Core.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 2
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
Require Import WildCat.Equiv.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import WildCat.Square.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 4
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Natural transformations *)

</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 7
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>Definition Transformation {A : Type} {B : A -&gt; Type} `{forall x, IsGraph (B x)}
  (F G : forall (x : A), B x)
  := forall (a : A), F a $-&gt; G a.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This lets us apply transformations to things. Identity Coercion tells coq that this coercion is in fact definitionally the identity map so it doesn't need to insert it, but merely rewrite definitionally when typechecking. *)</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 11
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Identity Coercion fun_trans : Transformation &gt;-&gt; Funclass.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 11
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "F $=&gt; G" := (Transformation F G).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A 1-natural transformation is natural up to a 2-cell, so its codomain must be a 1-category. *)</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 15
Time: 0.007s">
<div class="time" style="width: 12.5%"></div>
<pre>Class Is1Natural {A B : Type} `{IsGraph A} `{Is1Cat B}
      (F : A -&gt; B) `{!Is0Functor F} (G : A -&gt; B) `{!Is0Functor G}
      (alpha : F $=&gt; G) :=
  isnat : forall a a' (f : a $-&gt; a'),
     (alpha a') $o (fmap F f) $== (fmap G f) $o (alpha a).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Arguments Is1Natural {A B} {isgraph_A}
  {isgraph_B} {is2graph_B} {is01cat_B} {is1cat_B}
  F {is0functor_F} G {is0functor_G} alpha : rename.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 23
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments isnat {_ _ _ _ _ _ _ _ _ _ _} alpha {alnat _ _} f : rename.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 24
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre>

Record NatTrans {A B : Type} `{IsGraph A} `{Is1Cat B} (F G : A -&gt; B)
  {ff : Is0Functor F} {fg : Is0Functor G} :=
{
  trans_nattrans : F $=&gt; G ;
  is1natural_nattrans : Is1Natural F G trans_nattrans ;
}.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Existing Instance is1natural_nattrans.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Coercion trans_nattrans : NatTrans &gt;-&gt; Transformation.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 34
Time: 0.023s">
<div class="time" style="width: 41.071428571429%"></div>
<pre>

Definition issig_NatTrans {A B : Type} `{IsGraph A} `{Is1Cat B} (F G : A -&gt; B)
  {ff : Is0Functor F} {fg : Is0Functor G}
  : _ &lt;~&gt; NatTrans F G := ltac:(issig).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The transposed natural square *)</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 40
Time: 0.009s">
<div class="time" style="width: 16.071428571429%"></div>
<pre>Definition isnat_tr {A B : Type} `{IsGraph A} `{Is1Cat B}
      {F : A -&gt; B} `{!Is0Functor F} {G : A -&gt; B} `{!Is0Functor G}
      (alpha : F $=&gt; G) `{!Is1Natural F G alpha}
      {a a' : A} (f : a $-&gt; a')
  : (fmap G f) $o (alpha a) $== (alpha a') $o (fmap F f)
  := (isnat alpha f)^$.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition id_transformation {A B : Type} `{Is01Cat B} (F : A -&gt; B)
  : F $=&gt; F
  := fun a =&gt; Id (F a).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 49
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>

Global Instance is1natural_id {A B : Type} `{IsGraph A} `{Is1Cat B}
       (F : A -&gt; B) `{!Is0Functor F}
  : Is1Natural F F (id_transformation F).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 53
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 54
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros a b f; cbn.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 55
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  refine (cat_idl _ $@ (cat_idr _)^$).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 56
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 57
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition nattrans_id {A B : Type} (F : A -&gt; B)
  `{IsGraph A, Is1Cat B, !Is0Functor F}
  : NatTrans F F.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 62
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  nrapply Build_NatTrans.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 63
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  rapply is1natural_id.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 64
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 65
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

Definition trans_comp {A B : Type} `{Is01Cat B}
           {F G K : A -&gt; B} (gamma : G $=&gt; K) (alpha : F $=&gt; G)
  : F $=&gt; K
  := fun a =&gt; gamma a $o alpha a.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 70
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

Definition trans_prewhisker {A B : Type} {C : B -&gt; Type} {F G : forall x, C x}
  `{Is01Cat B} `{!forall x, IsGraph (C x)}
  `{!forall x, Is01Cat (C x)} (gamma : F $=&gt; G) (K : A -&gt; B) 
  : F o K $=&gt; G o K
  := gamma o K.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 76
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>

Definition trans_postwhisker {A B C : Type} {F G : A -&gt; B}
  (K : B -&gt; C) `{Is01Cat B, Is01Cat C, !Is0Functor K} (gamma : F $=&gt; G)
  : K o F $=&gt; K o G
  := fun a =&gt; fmap K (gamma a).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 81
Time: 0.007s">
<div class="time" style="width: 12.5%"></div>
<pre>

Global Instance is1natural_comp {A B : Type} `{IsGraph A} `{Is1Cat B}
       {F G K : A -&gt; B} `{!Is0Functor F} `{!Is0Functor G} `{!Is0Functor K}
       (gamma : G $=&gt; K) `{!Is1Natural G K gamma}
       (alpha : F $=&gt; G) `{!Is1Natural F G alpha}
  : Is1Natural F K (trans_comp gamma alpha).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros a b f; unfold trans_comp; cbn.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 89
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
  refine (cat_assoc _ _ _ $@ (_ $@L isnat alpha f) $@ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 90
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
  refine (cat_assoc_opp _ _ _ $@ (isnat gamma f $@R _) $@ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 91
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  apply cat_assoc.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 92
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 93
Time: 0.011s">
<div class="time" style="width: 19.642857142857%"></div>
<pre>

Global Instance is1natural_prewhisker {A B C : Type} {F G : B -&gt; C} (K : A -&gt; B)
  `{IsGraph A, Is01Cat B, Is1Cat C, !Is0Functor F, !Is0Functor G, !Is0Functor K}
  (gamma : F $=&gt; G) `{L : !Is1Natural F G gamma}
  : Is1Natural (F o K) (G o K) (trans_prewhisker gamma K).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x y f; unfold trans_prewhisker; cbn.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (L _ _ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 101
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 102
Time: 0.015s">
<div class="time" style="width: 26.785714285714%"></div>
<pre>

Global Instance is1natural_postwhisker {A B C : Type} {F G : A -&gt; B} (K : B -&gt; C)
 `{IsGraph A, Is1Cat B, Is1Cat C, !Is0Functor F, !Is0Functor G, !Is0Functor K, !Is1Functor K}
  (gamma : F $=&gt; G) `{L : !Is1Natural F G gamma}
  : Is1Natural (K o F) (K o G) (trans_postwhisker K gamma).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 107
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x y f; unfold trans_postwhisker; cbn.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 109
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
  refine (_^$ $@ _ $@ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 110
Time: 0.056s">
<div class="time" style="width: 100%"></div>
<pre>
  1,3: rapply fmap_comp.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 111
Time: 0.029s">
<div class="time" style="width: 51.785714285714%"></div>
<pre>
  rapply fmap2.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (L _ _ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 113
Time: 0.019s">
<div class="time" style="width: 33.928571428571%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 114
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>

Definition nattrans_comp {A B : Type} {F G K : A -&gt; B}
  `{IsGraph A, Is1Cat B, !Is0Functor F, !Is0Functor G, !Is0Functor K}
  : NatTrans G K -&gt; NatTrans F G -&gt; NatTrans F K.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros alpha beta.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 120
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  nrapply Build_NatTrans.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 121
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  rapply (is1natural_comp alpha beta).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 122
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 123
Time: 0.006s">
<div class="time" style="width: 10.714285714286%"></div>
<pre>

Definition nattrans_prewhisker {A B C : Type} {F G : B -&gt; C}
  `{IsGraph A, Is1Cat B, Is1Cat C, !Is0Functor F, !Is0Functor G}
  (alpha : NatTrans F G) (K : A -&gt; B) `{!Is0Functor K} 
  : NatTrans (F o K) (G o K).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 129
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  nrapply Build_NatTrans.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 130
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  rapply (is1natural_prewhisker K alpha).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 131
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 132
Time: 0.007s">
<div class="time" style="width: 12.5%"></div>
<pre>

Definition nattrans_postwhisker {A B C : Type} {F G : A -&gt; B} (K : B -&gt; C)
  `{IsGraph A, Is1Cat B, Is1Cat C, !Is0Functor F, !Is0Functor G,
    !Is0Functor K, !Is1Functor K} 
  : NatTrans F G -&gt; NatTrans (K o F) (K o G).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros alpha.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 139
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  nrapply Build_NatTrans.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 140
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  rapply (is1natural_postwhisker K alpha).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 141
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 142
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Modifying a transformation to something pointwise equal preserves naturality. *)</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 144
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre>Definition is1natural_homotopic {A B : Type} `{Is01Cat A} `{Is1Cat B}
      {F : A -&gt; B} `{!Is0Functor F} {G : A -&gt; B} `{!Is0Functor G}
      {alpha : F $=&gt; G} (gamma : F $=&gt; G) `{!Is1Natural F G gamma}
      (p : forall a, alpha a $== gamma a)
  : Is1Natural F G alpha.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros a b f.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 150
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
  exact ((p b $@R _) $@ isnat gamma f $@ (_ $@L (p a)^$)).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 151
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Natural equivalences *)

</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 155
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre>Record NatEquiv {A B : Type} `{IsGraph A} `{HasEquivs B}
  (F G : A -&gt; B) `{!Is0Functor F, !Is0Functor G} :=
{
  cat_equiv_natequiv : forall a, F a $&lt;~&gt; G a ;
  is1natural_natequiv : Is1Natural F G (fun a =&gt; cat_equiv_natequiv a) ;
}.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Arguments NatEquiv {A B} {isgraph_A}
  {isgraph_B} {is2graph_B} {is01cat_B} {is1cat_B} {hasequivs_B}
  F G {is0functor_F} {is0functor_G} : rename.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments Build_NatEquiv {A B} {isgraph_A}
  {isgraph_B} {is2graph_B} {is01cat_B} {is1cat_B} {hasequivs_B}
  F G {is0functor_F} {is0functor_G} e isnat_e: rename.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 167
Time: 0.024s">
<div class="time" style="width: 42.857142857143%"></div>
<pre>

Definition issig_NatEquiv {A B : Type} `{IsGraph A} `{HasEquivs B}
  (F G : A -&gt; B) `{!Is0Functor F, !Is0Functor G}
  : _ &lt;~&gt; NatEquiv F G := ltac:(issig).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 171
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Existing Instance is1natural_natequiv.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 173
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Coercion cat_equiv_natequiv : NatEquiv &gt;-&gt; Funclass.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 174
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

Lemma nattrans_natequiv {A B : Type} `{IsGraph A} `{HasEquivs B}
  (F G : A -&gt; B) `{!Is0Functor F, !Is0Functor G}
  : NatEquiv F G -&gt; NatTrans F G.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 178
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros alpha.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 180
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  nrapply Build_NatTrans.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 181
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  rapply (is1natural_natequiv _ _ alpha).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 183
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Throws a warning, but can probably be ignored. *)</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 185
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Set Warnings "-ambiguous-paths".</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 185
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
Coercion nattrans_natequiv : NatEquiv &gt;-&gt; NatTrans.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 186
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>

Definition natequiv_compose {A B} {F G H : A -&gt; B} `{IsGraph A} `{HasEquivs B}
  `{!Is0Functor F, !Is0Functor G, !Is0Functor H}
  : NatEquiv G H -&gt; NatEquiv F G -&gt; NatEquiv F H.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros alpha beta.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 192
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  snrapply Build_NatEquiv.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: exact (fun a =&gt; alpha a $oE beta a).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  hnf; intros x y f.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 195
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  refine (cat_prewhisker (compose_cate_fun _ _) _ $@ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 196
Time: 0.009s">
<div class="time" style="width: 16.071428571429%"></div>
<pre>
  refine (_ $@ cat_postwhisker _ (compose_cate_fun _ _)^$).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 197
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert x y f.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 198
Time: 0.021s">
<div class="time" style="width: 37.5%"></div>
<pre>
  rapply is1natural_comp.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 199
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 200
Time: 0.008s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>

Definition natequiv_prewhisker {A B C} {H K : B -&gt; C}
  `{IsGraph A, HasEquivs B, HasEquivs C, !Is0Functor H, !Is0Functor K}
  (alpha : NatEquiv H K) (F : A -&gt; B) `{!Is0Functor F}
  : NatEquiv (H o F) (K o F).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 205
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 206
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  snrapply Build_NatEquiv.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 207
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: exact (alpha o F).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 208
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  exact (is1natural_prewhisker _ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 210
Time: 0.009s">
<div class="time" style="width: 16.071428571429%"></div>
<pre>

Definition natequiv_postwhisker {A B C} {F G : A -&gt; B}
  `{IsGraph A, HasEquivs B, HasEquivs C, !Is0Functor F, !Is0Functor G}
   (K : B -&gt; C) (alpha : NatEquiv F G) `{!Is0Functor K, !Is1Functor K}
  : NatEquiv (K o F) (K o G).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 216
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
  snrapply Build_NatEquiv.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 217
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  1: exact (fun a =&gt; emap K (alpha a)).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 218
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  hnf.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x y f.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 219
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
  refine (cat_prewhisker (cate_buildequiv_fun _) _ $@ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 220
Time: 0.004s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
  refine (_ $@ cat_postwhisker _ (cate_buildequiv_fun _)^$).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 221
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert x y f.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 222
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  exact (is1natural_postwhisker _ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 223
Time: 0.004s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 224
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

Definition natequiv_inverse {A B : Type} `{IsGraph A} `{HasEquivs B}
  (F G : A -&gt; B) `{!Is0Functor F, !Is0Functor G}
  : NatEquiv F G -&gt; NatEquiv G F.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 228
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros [alpha I].</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 230
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  snrapply Build_NatEquiv.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: intro a; symmetry; apply alpha.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 232
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros X Y f.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 233
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  apply vinverse, I.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 234
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This lemma might seem unnecessery since as functions ((F o G) o K) and (F o (G o K)) are definitionally equal. But the functor instances of both sides are different. This can be a nasty trap since you cannot see this difference clearly. *)</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 237
Time: 0.012s">
<div class="time" style="width: 21.428571428571%"></div>
<pre>Definition natequiv_functor_assoc_ff_f {A B C D : Type}
  `{IsGraph A, HasEquivs B, HasEquivs C, HasEquivs D} (** These are a lot of instances... *)
  (F : C -&gt; D) (G : B -&gt; C) (K : A -&gt; B) `{!Is0Functor F, !Is0Functor G, !Is0Functor K}
  : NatEquiv ((F o G) o K) (F o (G o K)).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 240
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 241
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
  snrapply Build_NatEquiv.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 242
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: intro; reflexivity.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 243
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros X Y f.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 244
Time: 0.007s">
<div class="time" style="width: 12.5%"></div>
<pre>
  refine (cat_prewhisker (id_cate_fun _) _ $@ cat_idl _ $@ _^$).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 245
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre>
  refine (cat_postwhisker _ (id_cate_fun _) $@ cat_idr _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 246
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 247
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** *** Pointed natural transformations *)

</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 250
Time: 0.011s">
<div class="time" style="width: 19.642857142857%"></div>
<pre>Definition PointedTransformation {B C : Type} `{Is1Cat B, Is1Gpd C}
           `{IsPointed B, IsPointed C} (F G : B --&gt;* C)
  := {eta : F $=&gt; G &amp; eta (point _) $== bp_pointed F $@ (bp_pointed G)^$}.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "F $=&gt;* G" := (PointedTransformation F G) (at level 70).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 254
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre>

Definition ptransformation_inverse `{Funext} {B C : Type} `{Is1Cat B, Is1Gpd C}
           `{IsPointed B, IsPointed C} (F G : B --&gt;* C)
  : (F $=&gt;* G) -&gt; (G $=&gt;* F).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 258
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 259
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  intros [h p].</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 260
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  exists (fun x =&gt; (h x)^$).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 261
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  refine (gpd_rev2 p $@ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 262
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  refine (gpd_rev_pp _ _ $@ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ $@L _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 264
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply gpd_rev_rev.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 265
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "h ^*$" := (ptransformation_inverse _ _ h) (at level 5).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 268
Time: 0.009s">
<div class="time" style="width: 16.071428571429%"></div>
<pre>

Definition ptransformation_compose {B C : Type} `{Is1Cat B, Is1Gpd C}
           `{IsPointed B, IsPointed C} {F0 F1 F2 : B --&gt;* C}
  : (F0 $=&gt;* F1) -&gt; (F1 $=&gt;* F2) -&gt; (F0 $=&gt;* F2).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 272
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 273
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  intros [h0 p0] [h1 p1].</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 274
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exists (trans_comp h1 h0).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 275
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  refine ((p1 $@R _) $@ (_ $@L p0) $@ _);
    unfold gpd_comp; cbn.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 277
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cat_assoc _ _ _ $@ _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 278
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
  rapply (fmap _).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 279
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply gpd_h_Vh.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 280
Time: 0.004s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "h $@* k" := (ptransformation_compose h k) (at level 40).</pre>
</div>
<div class="code" title="File: NatTrans.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* TODO: *)
(* Morphisms of natural transformations - Modifications *)
(* Since [Transformation] is dependent, we can define a modification to be a transformation together with a cylinder condition. This doesn't seem to be too useful as of yet however. We would also need better ways to write down cylinders. *)


</pre>
</div>
</body>
</html>

